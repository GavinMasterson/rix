# This file was generated by the {rix} R package v0.1.1 on 2023-08-21
# with following call:
# >rix2(r_ver = "8ad5e8132c5dcf977e308e7bf5517cc6cc0bf7d8",
# >    r_pkgs = c("ggplot2@2.0.0", "AER"),
# >    system_pkgs = c("quarto"),
# >    git_pkgs = list(
# >      package_name = "rix",
# >      repo_url = "https://github.com/b-rodrigues/rix/",
# >      branch_name = "master",
# >      commit = "da581f90273cb1ccfedbe18808097bf33b84d63c"
# >    ),
# >    ide = "rstudio",
# >    project_path = "inst/extdata",
# >    overwrite = FALSE, print = T) 
# It uses nixpkgs' revision 8ad5e8132c5dcf977e308e7bf5517cc6cc0bf7d8 for reproducibility purposes
# which will install R as it was as of nixpkgs revision: 8ad5e8132c5dcf977e308e7bf5517cc6cc0bf7d8
# Report any issues to https://github.com/b-rodrigues/rix
let
  pkgs = import (fetchTarball "https://github.com/NixOS/nixpkgs/archive/8ad5e8132c5dcf977e308e7bf5517cc6cc0bf7d8.tar.gz") {};
 rpkgs = builtins.attrValues {
  inherit (pkgs.rPackages) AER;
};
 git_archive_pkgs = [(pkgs.rPackages.buildRPackage {
    name = "rix";
    src = pkgs.fetchgit {
      url = "https://github.com/b-rodrigues/rix/";
      branchName = "master";
      rev = "da581f90273cb1ccfedbe18808097bf33b84d63c";
      sha256 = "sha256-eDAxkXSrX+Q5TWwzkwMDG5rB8VXFKaLJLLKEJEvxjeo=";
    };
    propagatedBuildInputs = builtins.attrValues {
      inherit (pkgs.rPackages) httr jsonlite sys;
    };
  }) (pkgs.rPackages.buildRPackage {
    name = "ggplot2";
    src = pkgs.fetchzip {
      url = "https://cran.r-project.org/src/contrib/Archive/ggplot2/ggplot2_2.0.0.tar.gz";
      sha256 = "sha256-JJO3kWjEGkBUB+ERuopbgBfDQjLwEP95WhZBPFIhh+8=";
    };
    propagatedBuildInputs = builtins.attrValues {
      inherit (pkgs.rPackages) digest gtable MASS plyr reshape2 scales;
    };
  })];
 system_packages = builtins.attrValues {
  inherit (pkgs) R quarto rstudio;
};
  rstudio_pkgs = pkgs.rstudioWrapper.override {
    packages = [git_archive_pkgs  rpkgs];
  };
 in
  pkgs.mkShell {
    buildInputs = [git_archive_pkgs rpkgs system_packages rstudio_pkgs]; 
  }
